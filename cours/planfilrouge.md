üöÄ PROJET FIL ROUGE - SmartCity API Platform
Planning complet des 8 demi-journ√©es
üìÖ JOUR 1 - Kickoff & Fondations
Th√©orie matin : Fondamentaux Web Services, HTTP, JSON/XML
Dur√©e PM : 3h30 (13h30-17h00)

üéØ Objectifs J1
Constitution des 5 √©quipes (1 Front + 1 Auth + 3 Services)
Choix des domaines m√©tiers
Contrat OpenAPI minimal (2-3 endpoints/√©quipe)
Initialisation Git + README
üìã Livrables J1
‚úÖ Fichier openapi.yaml avec 2-3 endpoints
‚úÖ Structure projet initialis√©e
‚úÖ README avec stack + roadmap
‚úÖ 1er commit Git

üìÖ JOUR 2 - Impl√©mentation Basique & Mock
Th√©orie matin : API REST avanc√©, Versioning, Documentation OpenAPI
Dur√©e PM : 3h30

üéØ Objectifs J2
Impl√©menter 2-3 endpoints avec donn√©es en dur (tableaux)
G√©n√©rer mocks automatiques avec Prism
Front : consommer les premiers mocks
Middleware de gestion d'erreurs RFC 7807
Tests unitaires basiques (1-2/endpoint)
üìã Livrables J2
‚úÖ Endpoints fonctionnels (mock data en m√©moire)
‚úÖ Server Prism d√©ploy√© et accessible
‚úÖ Middleware d'erreurs RFC 7807
‚úÖ 3-5 tests unitaires
‚úÖ Front : 1-2 pages consommant les mocks

Exemple donn√©es en dur :

javascript
// Node.js/Express
const events = [
  { id: '550e8400-...', title: 'Jazz Festival', type: 'concert' },
  { id: '660e8400-...', title: 'Art Expo', type: 'exposition' }
];

app.get('/api/v1/events', (req, res) => {
  res.json({ data: events, page: 1, limit: 20, total: 2 });
});
üìÖ JOUR 3 - Base de Donn√©es & CRUD Complet
Th√©orie matin : S√©curit√© API (Partie 1) - Auth, JWT, OAuth
Dur√©e PM : 3h30

üéØ Objectifs J3
Connecter une base de donn√©es (PostgreSQL/MongoDB)
Remplacer les donn√©es en dur par de vraies requ√™tes DB
CRUD complet sur la ressource principale
√âquipe Auth : JWT fonctionnel (register/login/refresh)
Validation des donn√©es entrantes (Joi/Zod/Pydantic)
üìã Livrables J3
‚úÖ Base de donn√©es cr√©√©e + migrations
‚úÖ ORM/ODM configur√© (Prisma/Sequelize/Mongoose/SQLAlchemy)
‚úÖ CRUD complet (GET, POST, PUT, DELETE)
‚úÖ Validation des inputs
‚úÖ √âquipe Auth : JWT g√©n√©r√© et v√©rifi√©
‚úÖ Tests d'int√©gration DB (2-3)

Point d'int√©gration :

Les autres √©quipes peuvent commencer √† appeler l'API Auth pour obtenir des tokens
Front : formulaire login/register fonctionnel
üìÖ JOUR 4 - S√©curit√© & Int√©gration Auth
Th√©orie matin : S√©curit√© API (Partie 2) - OWASP Top 10, Vuln√©rabilit√©s
Dur√©e PM : 3h30

üéØ Objectifs J4
Prot√©ger les endpoints avec authentification JWT
Middleware de v√©rification de token
RBAC basique (user/admin)
Rate limiting
Audit de s√©curit√© entre √©quipes (checklist OWASP)
üìã Livrables J4
‚úÖ Endpoints prot√©g√©s (header Authorization: Bearer <token>)
‚úÖ Middleware d'authentification
‚úÖ 2 r√¥les minimum (user, admin)
‚úÖ Rate limiting configur√© (express-rate-limit/√©quivalent)
‚úÖ Headers de s√©curit√© (Helmet.js/√©quivalent)
‚úÖ Rapport d'audit s√©curit√© (1 page/√©quipe)

Exemple protection :

javascript
app.post('/api/v1/events', authenticateJWT, (req, res) => {
  // Seuls les utilisateurs authentifi√©s peuvent cr√©er
});

app.delete('/api/v1/events/:id', authenticateJWT, requireRole('admin'), (req, res) => {
  // Seuls les admins peuvent supprimer
});
üìÖ JOUR 5 - Int√©gration Services Externes & R√©silience
Th√©orie matin : SOA/SOAP, Architecture distribu√©e
Dur√©e PM : 3h30

üéØ Objectifs J5
1 √©quipe int√®gre un service externe (m√©t√©o, maps, paiement en mock)
Patterns de r√©silience : Circuit Breaker, Retry, Timeout
Communication inter-services (HTTP ou events)
Gestion des erreurs externes
Logging structur√©
üìã Livrables J5
‚úÖ Int√©gration 1 API externe (Axios/Fetch avec gestion erreur)
‚úÖ Circuit Breaker impl√©ment√© (opossum/resilience4j)
‚úÖ Logs structur√©s (Winston/Pino/Loguru)
‚úÖ Correlation ID propag√© entre services
‚úÖ Tests avec API externe mock√©e (nock/wiremock)

Exemple Circuit Breaker :

javascript
const CircuitBreaker = require('opossum');

const getWeather = () => axios.get('https://api.weather.com/...');
const breaker = new CircuitBreaker(getWeather, { timeout: 3000 });

breaker.fire()
  .then(data => res.json(data))
  .catch(err => res.status(503).json({ error: 'Service temporairement indisponible' }));
üìÖ JOUR 6 - Microservices & API Gateway
Th√©orie matin : Microservices, API Gateway, Service Discovery
Dur√©e PM : 3h30

üéØ Objectifs J6
Mise en place d'une API Gateway simple (Express Gateway/KrakenD/Kong)
Routing centralis√© vers les 4 services back
Agr√©gation de requ√™tes (optionnel)
Front : passe uniquement par la Gateway
üìã Livrables J6
‚úÖ API Gateway d√©ploy√©e (1 point d'entr√©e unique)
‚úÖ Routes configur√©es vers tous les services
‚úÖ Load balancing basique (si plusieurs instances)
‚úÖ CORS configur√© sur la Gateway
‚úÖ Front : URL de base chang√©e vers Gateway
‚úÖ Documentation architecture (sch√©ma)

Architecture cible :

Front (localhost:3000)
    ‚Üì
API Gateway (localhost:8080)
    ‚îú‚îÄ‚Üí Auth Service (localhost:3001)
    ‚îú‚îÄ‚Üí Events Service (localhost:3002)
    ‚îú‚îÄ‚Üí Transport Service (localhost:3003)
    ‚îî‚îÄ‚Üí Parking Service (localhost:3004)
üìÖ JOUR 7 - Tests, Performance & Observabilit√©
Th√©orie matin : Performance, Tests, DevOps
Dur√©e PM : 3h30

üéØ Objectifs J7
Tests de charge (K6/JMeter)
Optimisation performance (caching, indexation DB)
Monitoring (Health checks, Metrics)
Documentation Postman/Insomnia compl√®te
üìã Livrables J7
‚úÖ Tests de charge r√©alis√©s (rapport de r√©sultats)
‚úÖ Caching impl√©ment√© (Redis ou in-memory)
‚úÖ Index DB sur colonnes critiques
‚úÖ Health check endpoint (GET /health)
‚úÖ Collection Postman/Insomnia export√©e
‚úÖ OpenAPI finalis√© √† 100%

Exemple Health Check :

javascript
app.get('/health', async (req, res) => {
  const dbOk = await checkDatabase();
  const cacheOk = await checkRedis();
  
  res.status(dbOk && cacheOk ? 200 : 503).json({
    status: dbOk && cacheOk ? 'healthy' : 'unhealthy',
    services: { database: dbOk, cache: cacheOk }
  });
});
üìÖ JOUR 8 - Finalisation & D√©ploiement
Th√©orie matin : Conteneurisation, CI/CD, Observabilit√©
Dur√©e PM : 3h30

üéØ Objectifs J8
Dockerisation de tous les services
Docker Compose pour orchestration locale
Pipeline CI basique (GitHub Actions/GitLab CI)
Pr√©paration soutenance J9
üìã Livrables J8
‚úÖ Dockerfile par service
‚úÖ docker-compose.yml global
‚úÖ Tous les services d√©marrables avec docker-compose up
‚úÖ Pipeline CI (linting + tests)
‚úÖ README de d√©ploiement
‚úÖ Slides de pr√©sentation J9 (template fourni)

docker-compose.yml minimal :

yaml
version: '3.8'
services:
  gateway:
    build: ./gateway
    ports: ["8080:8080"]
  
  auth:
    build: ./auth-service
    environment:
      - DB_HOST=postgres
  
  events:
    build: ./events-service
  
  postgres:
    image: postgres:15
    environment:
      - POSTGRES_DB=smartcity
üìÖ JOUR 9 - SOUTENANCES
Matin complet : 9h00-12h30

Format de pr√©sentation (15 min/√©quipe)
Structure impos√©e (10 min pr√©sentation + 5 min Q&A)
1. Contexte & D√©mo (4 min)

Quel service ? Quelle valeur m√©tier ?
D√©mo live de 2-3 use cases
2. Architecture & Choix techniques (3 min)

Sch√©ma d'architecture
Stack justifi√©e
Patterns utilis√©s (Circuit Breaker, RBAC, etc.)
3. D√©fis & Apprentissages (2 min)

1-2 difficult√©s rencontr√©es
Comment r√©solues ?
Ce que vous referiez diff√©remment
4. M√©triques (1 min)

Couverture de tests
R√©sultats tests de charge
Uptime / Health checks
Grille d'√©valuation
Crit√®re	Points	D√©tails
Fonctionnalit√©s	/5	CRUD complet, Auth, endpoints avanc√©s
S√©curit√©	/4	JWT, RBAC, headers, validation
Architecture	/3	Code propre, patterns, d√©couplage
Tests	/2	Unitaires, int√©gration, charge
Documentation	/2	OpenAPI, README, Postman
D√©ploiement	/2	Docker, CI/CD
Pr√©sentation	/2	Clart√©, d√©mo, d√©fense
TOTAL	/20	
üìä R√âCAPITULATIF DES √âQUIPES
Configuration finale (15-20 √©tudiants)
√âquipe 1 : FRONT-END (3-4 pers)
Stack : React/Vue/Angular
Livrables :

SPA consommant les 4 services via Gateway
Pages : Login, Dashboard, Liste ressources, D√©tail, Cr√©ation
Gestion √©tat (Redux/Pinia/NgRx)
Gestion erreurs + Loading states
√âquipe 2 : AUTH (3-4 pers)
Stack : Node.js/Python/Java
Endpoints :

POST /auth/register
POST /auth/login
POST /auth/refresh
GET /users/me
PUT /users/me
(Optionnel) OAuth Google
√âquipe 3 : SERVICE 1 (3-4 pers)
Exemple : EVENTS
Endpoints :

CRUD complet sur /events
POST /events/{id}/register
GET /events/{id}/attendees
GET /events/popular
√âquipe 4 : SERVICE 2 (3-4 pers)
Exemple : TRANSPORT
Endpoints :

GET /lines + GET /lines/{id}
GET /stops/nearby
POST /itineraries/calculate
GET /traffic/alerts
√âquipe 5 : SERVICE 3 (3-4 pers)
Exemple : PARKING
Endpoints :

GET /parkings + GET /parkings/{id}
GET /parkings/{id}/availability
POST /parkings/{id}/reserve
GET /reservations
üõ†Ô∏è STACK TECHNIQUE RECOMMAND√âE
Back-End (choix libre par √©quipe)
Node.js: Express + Prisma + PostgreSQL
Python: FastAPI + SQLAlchemy + PostgreSQL
Java: Spring Boot + JPA + PostgreSQL
Front-End
React + React Router + Axios + Tailwind
Outils communs
API Gateway: Express Gateway ou KrakenD
Base de donn√©es: PostgreSQL (conteneuris√©)
Cache: Redis (optionnel)
Tests: Jest/Pytest/JUnit + Supertest/TestClient
Tests charge: K6
Mock: Prism
Logs: Winston/Pino/Loguru
CI/CD: GitHub Actions
Conteneurs: Docker + Docker Compose
üìö RESSOURCES FOURNIES
Templates & Starters
 Template OpenAPI avec exemples
 Structure de projet par langage (Node/Python/Java)
 docker-compose.yml de base
 GitHub Actions workflow template
 Collection Postman de d√©marrage
Documentation
 Guide des conventions (naming, erreurs, pagination)
 Checklist s√©curit√© OWASP
 Guide int√©gration Auth (pour services consommateurs)
 Template slides soutenance
Outils
 Serveur GitLab/GitHub pour chaque √©quipe
 Acc√®s Prism Cloud (optionnel)
 Environnement de d√©ploiement (VMs ou K8s)
‚úÖ CHECKLIST GLOBALE PROJET
Technique
 4 services back + 1 front d√©ploy√©s
 API Gateway fonctionnelle
 Authentification JWT sur tous les services
 Base de donn√©es persistante
 Tests > 60% de couverture
 Documentation OpenAPI compl√®te
 Docker Compose op√©rationnel
 CI/CD avec au moins linting + tests
Fonctionnel
 CRUD complet sur chaque ressource
 Pagination sur toutes les listes
 Gestion d'erreurs RFC 7807
 Recherche/filtres sur au moins 1 service
 Relations entre ressources (ex: events ‚Üí attendees)
 Au moins 1 int√©gration externe
S√©curit√©
 HTTPS en production (ou expliqu√©)
 Headers de s√©curit√© (Helmet)
 Rate limiting
 Validation des inputs
 RBAC (2 r√¥les minimum)
 Pas de secrets en clair dans Git
Documentation
 README par service (install, run, test)
 Architecture diagram
 OpenAPI 3.0 par service
 Collection Postman export√©e
 Guide de d√©ploiement
üéØ CRIT√àRES DE SUCC√àS
Minimum Viable (pour valider le projet)
‚úÖ 3 services back fonctionnels (Auth + 2 m√©tiers)
‚úÖ Front consommant au moins 1 service
‚úÖ Auth JWT op√©rationnelle
‚úÖ CRUD complet sur 1 ressource
‚úÖ Tests basiques pr√©sents
‚úÖ Dockerisation r√©ussie
‚úÖ Soutenance coh√©rente
Pour viser l'excellence (16+/20)
‚úÖ 4 services m√©tiers + API Gateway
‚úÖ Int√©gration externe avec r√©silience
‚úÖ Caching Redis
‚úÖ Tests de charge r√©alis√©s
‚úÖ CI/CD complet (deploy auto)
‚úÖ Monitoring (Prometheus/Grafana)
‚úÖ Documentation exemplaire
üìû SUPPORT ENSEIGNANT
Pendant les s√©ances
Tour des √©quipes toutes les 30 min
Q&A collective les 15 derni√®res minutes
Validation des choix techniques J1-J2
Entre les s√©ances
Canal Discord/Slack d√©di√©
R√©ponse sous 24h max
Office hours (optionnel) : 30 min avant chaque cours
Points de blocage anticip√©s
J3 : Connexion BDD ‚Üí Pr√©voir 30 min de debugging collectif
J4 : Int√©gration JWT entre services ‚Üí Session de pair programming
J6 : Configuration Gateway ‚Üí Demo live de troubleshooting
J8 : Docker networking ‚Üí Checklist de debug fournie
üéì COMP√âTENCES VIS√âES
√Ä l'issue de ce projet, les √©tudiants sauront :

‚úÖ Concevoir une API REST compl√®te (design, versioning, doc)
‚úÖ Impl√©menter une authentification JWT s√©curis√©e
‚úÖ G√©rer les erreurs selon RFC 7807
‚úÖ √âcrire des tests unitaires et d'int√©gration
‚úÖ Conteneuriser des applications microservices
‚úÖ Mettre en place un pipeline CI/CD basique
‚úÖ Auditer la s√©curit√© d'une API (OWASP)
‚úÖ Documenter avec OpenAPI 3.0
‚úÖ Collaborer en √©quipe sur un projet distribu√©
‚úÖ Pr√©senter et d√©fendre des choix techniques

