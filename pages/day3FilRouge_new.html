<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jour 3 ‚Äî Fil Rouge : Base de donn√©es & CRUD complet</title>
  <link rel="stylesheet" href="../styles/styles.css">
  <link rel="stylesheet" href="../styles/day3FilRouge.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-logo">
        <img src="../assets/logo.jpeg" alt="YNOV Campus" class="logo-img">
        <span class="logo-text">SmartCity API Platform</span>
      </div>
      <ul class="nav-menu" id="nav-menu">
        <li class="nav-item"><a href="../index.html" class="nav-link">Accueil</a></li>
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle active">
            <i class="fas fa-calendar-alt"></i> Journ√©es
            <i class="fas fa-chevron-down"></i>
          </a>
          <div class="dropdown-menu">
            <a href="day1.html" class="dropdown-item">Jour 1 - Th√©orie</a>
            <a href="day1FilRouge.html" class="dropdown-item">Jour 1 - Fil Rouge</a>
            <a href="day2.html" class="dropdown-item">Jour 2 - Th√©orie</a>
            <a href="day2FilRouge.html" class="dropdown-item">Jour 2 - Fil Rouge</a>
            <a href="day3.html" class="dropdown-item">Jour 3 - Th√©orie</a>
            <a href="day3FilRouge.html" class="dropdown-item active">Jour 3 - Fil Rouge</a>
          </div>
        </li>
        <li class="nav-item"><a href="../index.html#projet" class="nav-link">Projet</a></li>
        <li class="nav-item"><a href="../index.html#contact" class="nav-link">Contact</a></li>
      </ul>
      <div class="hamburger" id="hamburger">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero" style="min-height: 60vh;">
    <div class="container">
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">üöÄ SmartCity API Platform</h1>
          <p class="hero-subtitle">Fil Rouge J3 - Base de donn√©es & CRUD complet</p>
          <p class="hero-description">Apr√®s-midi (13h30-17h00) - Connecter vos services √† de vraies bases de donn√©es et impl√©menter le CRUD complet avec validation.</p>
          <div class="hero-buttons">
            <a href="day3.html" class="btn btn-secondary">
              <i class="fas fa-book"></i> Retour √† la th√©orie
            </a>
            <a href="../index.html#programme" class="btn btn-secondary"><i class="fas fa-arrow-left"></i>Retour au programme</a>
          </div>
        </div>
        <div class="hero-image-container">
          <img src="../assets/webservices.jpg" alt="Web Services" class="hero-image">
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">üöÄ PROJET FIL ROUGE - DEMI-JOURN√âE 3 (J3 Apr√®s-midi)</h2>
        <p class="section-subtitle">SmartCity API Platform - Base de donn√©es & CRUD complet</p>
        <p class="section-description">Dur√©e : 3h30 (13h30-17h00)<br>
        Contexte : Ce matin vous avez vu le versioning d'API, la documentation OpenAPI et HATEOAS. Cet apr√®s-midi, vous allez connecter vos services √† de vraies bases de donn√©es et impl√©menter le CRUD complet avec validation.</p>
      </div>

      <div class="days-container">
        <!-- RAPPEL DE VOTRE SITUATION -->
        <div class="day-card expanded">
          <div class="day-header">
            <span class="day-number">üìã</span>
            <span class="day-theme">RAPPEL DE VOTRE SITUATION (J2 ‚Üí J3)</span>
          </div>
          <div class="day-content">
            <div class="day-morning">
              <h5 class="mt-5">‚úÖ Ce que vous avez (depuis J2)</h5>
              <ul>
                <li>Endpoints fonctionnels avec donn√©es en dur (tableaux)</li>
                <li>Pagination impl√©ment√©e (page/limit)</li>
                <li>Gestion d'erreurs RFC 7807 centralis√©e</li>
                <li>Headers de corr√©lation (X-Correlation-Id)</li>
                <li>3-5 tests unitaires qui passent</li>
                <li>Mock Prism g√©n√©r√© et accessible</li>
                <li>Front qui consomme les mocks Prism</li>
              </ul>

              <div class="highlight-box">
                <h6 class="mt-5">üéØ Ce qu'on vise aujourd'hui (r√©aliste pour 3h30)</h6>
                <p>√Ä 17h00, chaque √©quipe doit avoir :</p>
                <h5 class="mt-5">√âQUIPES BACK-END (sauf Auth) :</h5>
                <ul>
                  <li>‚úÖ Base de donn√©es install√©e et configur√©e</li>
                  <li>‚úÖ Sch√©ma/migrations cr√©√©s</li>
                  <li>‚úÖ Endpoints CRUD complets (GET, POST, PUT, PATCH, DELETE)</li>
                  <li>‚úÖ Validation des donn√©es entrantes (Joi/Zod/Pydantic)</li>
                  <li>‚úÖ Tests d'int√©gration avec DB</li>
                  <li>‚úÖ Remplacement des tableaux en m√©moire par requ√™tes DB</li>
                </ul>
                <h5 class="mt-5">√âQUIPE AUTH :</h5>
                <ul>
                  <li>‚úÖ Table users en base de donn√©es</li>
                  <li>‚úÖ Hash bcrypt pour les mots de passe</li>
                  <li>‚úÖ G√©n√©ration de vrais JWT sign√©s avec cl√© secr√®te</li>
                  <li>‚úÖ V√©rification de tokens (middleware d'authentification)</li>
                  <li>‚úÖ Tests avec utilisateurs r√©els en DB</li>
                  <li>‚úÖ Middleware d'authentification exportable pour les autres √©quipes</li>
                </ul>
                <h5 class="mt-5">√âQUIPE FRONT :</h5>
                <ul>
                  <li>‚úÖ Basculer des mocks Prism vers les vrais services</li>
                  <li>‚úÖ Formulaires de cr√©ation (POST) fonctionnels</li>
                  <li>‚úÖ Gestion des erreurs de validation c√¥t√© UI</li>
                  <li>‚úÖ Int√©gration avec Auth (login/register)</li>
                  <li>‚úÖ Stockage du token (localStorage/sessionStorage)</li>
                </ul>
                <p><strong>‚ùå CE QUI N'EST PAS ATTENDU AUJOURD'HUI :</strong></p>
                <ul>
                  <li>‚ùå Tests exhaustifs (J6-J7)</li>
                  <li>‚ùå Cache Redis (J7)</li>
                  <li>‚ùå API Gateway (J6)</li>
                  <li>‚ùå Containerisation (J8)</li>
                  <li>‚ùå CI/CD (J8)</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- PHASE 1 : DAILY & ALIGNEMENT -->
        <div class="day-card">
          <div class="day-header">
            <span class="day-number">üèÅ</span>
            <span class="day-theme">PHASE 1 : DAILY & ALIGNEMENT (13h30-13h45) - 15 min</span>
          </div>
          <div class="day-content">
            <h5 class="mt-5">Daily Stand-up par √©quipe (10 min)</h5>
            <p>Chaque √©quipe fait son stand-up interne :</p>
            <ul>
              <li>Ce qui a √©t√© fait depuis J2 (lectures, pr√©parations...)</li>
              <li>Blockers √©ventuels (installation DB, choix ORM...)</li>
              <li>Plan pour aujourd'hui</li>
            </ul>
            <h5 class="mt-5">Synchronisation inter-√©quipes (5 min)</h5>
            <p>Point rapide tous ensemble :</p>
            <ul>
              <li>Back : "Quelle base de donn√©es avez-vous choisie ?"</li>
              <li>Auth : "Format JWT finalis√© ? Middleware pr√™t ?"</li>
              <li>Front : "Pr√™t √† basculer vers les vrais services ?"</li>
            </ul>
            <h5 class="mt-5">Convention d'URLs mises √† jour :</h5>
            <pre><code class="bash">AUTH      ‚Üí http://localhost:3001/api/v1
EVENTS    ‚Üí http://localhost:3002/api/v1
TRANSPORT ‚Üí http://localhost:3003/api/v1
SERVICE_3 ‚Üí http://localhost:3004/api/v1
SERVICE_4 ‚Üí http://localhost:3005/api/v1
FRONT     ‚Üí http://localhost:3000</code></pre>
          </div>
        </div>

        <!-- PHASE 2 : CONFIGURATION BASE DE DONN√âES -->
        <div class="day-card">
          <div class="day-header">
            <span class="day-number">üì¶</span>
            <span class="day-theme">PHASE 2 : CONFIGURATION BASE DE DONN√âES (13h45-14h30) - 45 min</span>
          </div>
          <div class="day-content">
            <h5 class="mt-5">A. Installation et configuration (20 min)</h5>
            <p>Choix de base de donn√©es recommand√©s :</p>
            <ul>
              <li><strong>PostgreSQL</strong> (recommand√©) : Robuste, ACID, JSON natif</li>
              <li><strong>MongoDB</strong> : Document-based, flexible</li>
              <li><strong>MySQL</strong> : Simple, largement utilis√©</li>
              <li><strong>SQLite</strong> : Pour d√©veloppement local uniquement</li>
            </ul>
            
            <h6 class="mt-5">Installation rapide avec Docker :</h6>
            <pre><code class="bash"># PostgreSQL
docker run --name smartcity-postgres \
  -e POSTGRES_PASSWORD=secret \
  -e POSTGRES_DB=smartcity \
  -p 5432:5432 \
  -d postgres:15

# MongoDB
docker run --name smartcity-mongo \
  -p 27017:27017 \
  -d mongo:7

# MySQL
docker run --name smartcity-mysql \
  -e MYSQL_ROOT_PASSWORD=secret \
  -e MYSQL_DATABASE=smartcity \
  -p 3306:3306 \
  -d mysql:8.0</code></pre>

            <h5 class="mt-5">B. Configuration ORM/ODM (25 min)</h5>
            
            <h6 class="mt-5">Node.js - Prisma (recommand√©) :</h6>
            <pre><code class="bash">npm install prisma @prisma/client
npx prisma init</code></pre>
            
            <pre><code class="javascript">// schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Event {
  id                String   @id @default(uuid())
  title             String
  description       String?
  type              EventType
  startDate         DateTime @map("start_date")
  endDate           DateTime? @map("end_date")
  location          Json     // PostgreSQL JSON
  price             Float    @default(0)
  maxAttendees      Int?     @map("max_attendees")
  currentAttendees  Int      @default(0) @map("current_attendees")
  imageUrl          String?  @map("image_url")
  tags              String[]
  createdAt         DateTime @default(now()) @map("created_at")
  updatedAt         DateTime @updatedAt @map("updated_at")
  creatorId         String   @map("creator_id")
  
  @@map("events")
}

enum EventType {
  CONCERT
  EXPOSITION
  CONFERENCE
  FESTIVAL
  SPORT
  AUTRE
}</code></pre>

            <pre><code class="bash">npx prisma migrate dev --name init
npx prisma generate</code></pre>

            <h6 class="mt-5">Python - SQLAlchemy :</h6>
            <pre><code class="bash">pip install sqlalchemy psycopg2-binary alembic</code></pre>
            
            <pre><code class="python"># models.py
from sqlalchemy import Column, String, DateTime, Float, Integer, JSON, ARRAY, Enum
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.dialects.postgresql import UUID
import uuid
import enum

Base = declarative_base()

class EventType(enum.Enum):
    CONCERT = "concert"
    EXPOSITION = "exposition"
    CONFERENCE = "conference"
    FESTIVAL = "festival"
    SPORT = "sport"
    AUTRE = "autre"

class Event(Base):
    __tablename__ = "events"
    
    id = Column(UUID(as_uuid=True), primary_key=True, default=uuid.uuid4)
    title = Column(String(200), nullable=False)
    description = Column(String(2000))
    type = Column(Enum(EventType), nullable=False)
    start_date = Column(DateTime, nullable=False)
    end_date = Column(DateTime)
    location = Column(JSON, nullable=False)
    price = Column(Float, default=0)
    max_attendees = Column(Integer)
    current_attendees = Column(Integer, default=0)
    image_url = Column(String)
    tags = Column(ARRAY(String))
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
    creator_id = Column(String, nullable=False)</code></pre>
          </div>
        </div>

        <!-- Pause -->
        <div class="day-card">
          <div class="day-header">
            <span class="day-number">‚òï</span>
            <span class="day-theme">Pause (14h30-14h45) - 15 min</span>
          </div>
          <div class="day-content">
            <p>Prenez une courte pause pour vous rafra√Æchir et discuter de vos progr√®s.</p>
          </div>
        </div>

        <!-- PHASE 3 : CRUD COMPLET & VALIDATION -->
        <div class="day-card">
          <div class="day-header">
            <span class="day-number">üîß</span>
            <span class="day-theme">PHASE 3 : CRUD COMPLET & VALIDATION (14h45-16h00) - 75 min</span>
          </div>
          <div class="day-content">
            <h5 class="mt-5">A. Impl√©mentation CRUD complet (45 min)</h5>
            
            <h6 class="mt-5">GET /resources (liste pagin√©e) - Mise √† jour :</h6>
            <pre><code class="javascript">// Node.js avec Prisma
app.get('/api/v1/events', async (req, res) => {
  const page = parseInt(req.query.page) || 1;
  const limit = Math.min(parseInt(req.query.limit) || 20, 100);
  const offset = (page - 1) * limit;
  
  // Filtres
  const where = {};
  if (req.query.type) where.type = req.query.type;
  if (req.query.city) where.location = { path: ['city'], equals: req.query.city };
  if (req.query.date_from) where.startDate = { gte: new Date(req.query.date_from) };
  if (req.query.date_to) where.startDate = { ...where.startDate, lte: new Date(req.query.date_to) };
  
  // Tri
  const orderBy = {};
  if (req.query.sort) {
    const field = req.query.sort.replace('-', '');
    orderBy[field] = req.query.sort.startsWith('-') ? 'desc' : 'asc';
  } else {
    orderBy.startDate = 'asc';
  }
  
  try {
    const [events, total] = await Promise.all([
      prisma.event.findMany({
        where,
        orderBy,
        skip: offset,
        take: limit,
        include: {
          creator: {
            select: { id: true, name: true, email: true }
          }
        }
      }),
      prisma.event.count({ where })
    ]);
    
    res.json({
      data: events,
      meta: {
        page,
        limit,
        total,
        totalPages: Math.ceil(total / limit)
      },
      links: {
        self: `/events?page=${page}&limit=${limit}`,
        first: `/events?page=1&limit=${limit}`,
        last: `/events?page=${Math.ceil(total / limit)}&limit=${limit}`,
        next: page < Math.ceil(total / limit) ? `/events?page=${page + 1}&limit=${limit}` : null,
        prev: page > 1 ? `/events?page=${page - 1}&limit=${limit}` : null
      }
    });
  } catch (error) {
    console.error('Database error:', error);
    res.status(500).json({
      type: 'https://api.smartcity.local/errors/internal-error',
      title: 'Internal Server Error',
      status: 500,
      detail: 'Database operation failed',
      correlationId: req.correlationId
    });
  }
});</code></pre>

            <h6 class="mt-5">POST /resources (cr√©ation) - Nouveau :</h6>
            <pre><code class="javascript">// Validation avec Joi
const Joi = require('joi');

const eventSchema = Joi.object({
  title: Joi.string().min(3).max(200).required(),
  description: Joi.string().max(2000).optional(),
  type: Joi.string().valid('concert', 'exposition', 'conference', 'festival', 'sport', 'autre').required(),
  start_date: Joi.date().iso().greater('now').required(),
  end_date: Joi.date().iso().greater(Joi.ref('start_date')).optional(),
  location: Joi.object({
    name: Joi.string().required(),
    address: Joi.string().required(),
    city: Joi.string().required(),
    postal_code: Joi.string().pattern(/^\d{5}$/).optional(),
    coordinates: Joi.object({
      latitude: Joi.number().min(-90).max(90).optional(),
      longitude: Joi.number().min(-180).max(180).optional()
    }).optional()
  }).required(),
  price: Joi.number().min(0).default(0),
  max_attendees: Joi.number().integer().min(1).optional(),
  image_url: Joi.string().uri().optional(),
  tags: Joi.array().items(Joi.string()).default([])
});

app.post('/api/v1/events', authenticateToken, async (req, res) => {
  // Validation
  const { error, value } = eventSchema.validate(req.body);
  if (error) {
    return res.status(422).json({
      type: 'https://api.smartcity.local/errors/validation-error',
      title: 'Validation Failed',
      status: 422,
      detail: 'Invalid input data',
      errors: error.details.map(detail => ({
        field: detail.path.join('.'),
        code: detail.type,
        message: detail.message
      })),
      correlationId: req.correlationId
    });
  }
  
  try {
    const event = await prisma.event.create({
      data: {
        ...value,
        creatorId: req.user.id,
        startDate: new Date(value.start_date),
        endDate: value.end_date ? new Date(value.end_date) : null
      },
      include: {
        creator: {
          select: { id: true, name: true, email: true }
        }
      }
    });
    
    res.status(201)
       .header('Location', `/events/${event.id}`)
       .json(event);
  } catch (error) {
    console.error('Database error:', error);
    res.status(500).json({
      type: 'https://api.smartcity.local/errors/internal-error',
      title: 'Internal Server Error',
      status: 500,
      detail: 'Failed to create event',
      correlationId: req.correlationId
    });
  }
});</code></pre>

            <h6 class="mt-5">PUT /resources/{id} (mise √† jour compl√®te) - Nouveau :</h6>
            <pre><code class="javascript">app.put('/api/v1/events/:id', authenticateToken, async (req, res) => {
  const { id } = req.params;
  
  // V√©rifier que l'√©v√©nement existe
  const existingEvent = await prisma.event.findUnique({
    where: { id }
  });
  
  if (!existingEvent) {
    return res.status(404).json({
      type: 'https://api.smartcity.local/errors/not-found',
      title: 'Not Found',
      status: 404,
      detail: 'Event not found',
      correlationId: req.correlationId
    });
  }
  
  // V√©rifier les permissions
  if (existingEvent.creatorId !== req.user.id && req.user.role !== 'admin') {
    return res.status(403).json({
      type: 'https://api.smartcity.local/errors/forbidden',
      title: 'Forbidden',
      status: 403,
      detail: 'You can only update your own events',
      correlationId: req.correlationId
    });
  }
  
  // Validation
  const { error, value } = eventSchema.validate(req.body);
  if (error) {
    return res.status(422).json({
      type: 'https://api.smartcity.local/errors/validation-error',
      title: 'Validation Failed',
      status: 422,
      detail: 'Invalid input data',
      errors: error.details.map(detail => ({
        field: detail.path.join('.'),
        code: detail.type,
        message: detail.message
      })),
      correlationId: req.correlationId
    });
  }
  
  try {
    const updatedEvent = await prisma.event.update({
      where: { id },
      data: {
        ...value,
        startDate: new Date(value.start_date),
        endDate: value.end_date ? new Date(value.end_date) : null
      },
      include: {
        creator: {
          select: { id: true, name: true, email: true }
        }
      }
    });
    
    res.json(updatedEvent);
  } catch (error) {
    console.error('Database error:', error);
    res.status(500).json({
      type: 'https://api.smartcity.local/errors/internal-error',
      title: 'Internal Server Error',
      status: 500,
      detail: 'Failed to update event',
      correlationId: req.correlationId
    });
  }
});</code></pre>

            <h6 class="mt-5">DELETE /resources/{id} (suppression) - Nouveau :</h6>
            <pre><code class="javascript">app.delete('/api/v1/events/:id', authenticateToken, async (req, res) => {
  const { id } = req.params;
  
  // V√©rifier que l'√©v√©nement existe
  const existingEvent = await prisma.event.findUnique({
    where: { id }
  });
  
  if (!existingEvent) {
    return res.status(404).json({
      type: 'https://api.smartcity.local/errors/not-found',
      title: 'Not Found',
      status: 404,
      detail: 'Event not found',
      correlationId: req.correlationId
    });
  }
  
  // V√©rifier les permissions
  if (existingEvent.creatorId !== req.user.id && req.user.role !== 'admin') {
    return res.status(403).json({
      type: 'https://api.smartcity.local/errors/forbidden',
      title: 'Forbidden',
      status: 403,
      detail: 'You can only delete your own events',
      correlationId: req.correlationId
    });
  }
  
  try {
    await prisma.event.delete({
      where: { id }
    });
    
    res.status(204).send();
  } catch (error) {
    console.error('Database error:', error);
    res.status(500).json({
      type: 'https://api.smartcity.local/errors/internal-error',
      title: 'Internal Server Error',
      status: 500,
      detail: 'Failed to delete event',
      correlationId: req.correlationId
    });
  }
});</code></pre>
          </div>
        </div>

        <!-- CHECKLIST DE FIN DE JOURN√âE -->
        <div class="day-card">
          <div class="day-header">
            <span class="day-number">‚úÖ</span>
            <span class="day-theme">CHECKLIST DE FIN DE JOURN√âE</span>
          </div>
          <div class="day-content">
            <h5 class="mt-5">Chaque √©quipe BACK v√©rifie :</h5>
            <ul>
              <li>‚úÖ Base de donn√©es install√©e et configur√©e</li>
              <li>‚úÖ Sch√©ma/migrations cr√©√©s et appliqu√©s</li>
              <li>‚úÖ Endpoints CRUD complets (GET, POST, PUT, PATCH, DELETE)</li>
              <li>‚úÖ Validation des donn√©es entrantes fonctionnelle</li>
              <li>‚úÖ Tests d'int√©gration avec DB qui passent</li>
              <li>‚úÖ Remplacement des tableaux en m√©moire par requ√™tes DB</li>
              <li>‚úÖ Gestion d'erreurs RFC 7807 maintenue</li>
              <li>‚úÖ Headers de corr√©lation propag√©s</li>
              <li>‚úÖ README mis √† jour avec instructions de configuration DB</li>
              <li>‚úÖ Au moins 3 commits Git aujourd'hui</li>
            </ul>
            
            <h5 class="mt-5">√âquipe AUTH v√©rifie :</h5>
            <ul>
              <li>‚úÖ Table users en base de donn√©es</li>
              <li>‚úÖ Hash bcrypt pour les mots de passe (work factor 12+)</li>
              <li>‚úÖ G√©n√©ration de vrais JWT sign√©s avec cl√© secr√®te</li>
              <li>‚úÖ V√©rification de tokens (middleware d'authentification)</li>
              <li>‚úÖ Tests avec utilisateurs r√©els en DB</li>
              <li>‚úÖ Middleware d'authentification exportable pour les autres √©quipes</li>
              <li>‚úÖ Au moins 3 commits Git aujourd'hui</li>
            </ul>
            
            <h5 class="mt-5">√âquipe FRONT v√©rifie :</h5>
            <ul>
              <li>‚úÖ Configuration pour basculer mocks ‚Üî vrais services</li>
              <li>‚úÖ Formulaires de cr√©ation (POST) fonctionnels</li>
              <li>‚úÖ Gestion des erreurs de validation c√¥t√© UI</li>
              <li>‚úÖ Int√©gration avec Auth (login/register)</li>
              <li>‚úÖ Stockage du token (localStorage/sessionStorage)</li>
              <li>‚úÖ Affichage des donn√©es depuis la vraie DB</li>
              <li>‚úÖ Au moins 3 commits Git aujourd'hui</li>
            </ul>
          </div>
        </div>

        <!-- POUR DEMAIN -->
        <div class="day-card">
          <div class="day-header">
            <span class="day-number">üìö</span>
            <span class="day-theme">POUR DEMAIN (J4 Apr√®s-midi)</span>
          </div>
          <div class="day-content">
            <h5 class="mt-5">Th√©orie du matin (J4)</h5>
            <ul>
              <li>S√©curit√© API avanc√©e : Rate limiting, CORS, headers de s√©curit√©</li>
              <li>RBAC (Role-Based Access Control) : Permissions granulaires</li>
              <li>Audit et logging : Tra√ßabilit√© des actions</li>
              <li>Bonnes pratiques de s√©curit√© en production</li>
            </ul>
            
            <h5 class="mt-5">Pratique de l'apr√®s-midi (J4)</h5>
            <h6 class="mt-5">√âQUIPES BACK :</h6>
            <ul>
              <li>Impl√©menter rate limiting (express-rate-limit, redis)</li>
              <li>Configurer CORS correctement</li>
              <li>Ajouter headers de s√©curit√© (helmet)</li>
              <li>Impl√©menter RBAC avec permissions granulaires</li>
              <li>Ajouter audit logging (qui fait quoi, quand)</li>
            </ul>
            
            <h6 class="mt-5">√âQUIPE AUTH :</h6>
            <ul>
              <li>Impl√©menter refresh token rotation</li>
              <li>Ajouter rate limiting sur les endpoints d'auth</li>
              <li>Audit des tentatives de connexion</li>
              <li>Gestion des sessions et d√©connexion</li>
            </ul>
            
            <h6 class="mt-5">√âQUIPE FRONT :</h6>
            <ul>
              <li>Gestion des tokens expir√©s (refresh automatique)</li>
              <li>Gestion des erreurs de s√©curit√©</li>
              <li>Interface d'administration (pour les admins)</li>
              <li>Am√©lioration de l'UX de s√©curit√©</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <div class="footer-logo">
            <img src="../assets/logo.jpeg" alt="YNOV Campus" class="footer-logo-img">
            <span class="footer-logo-text">SmartCity API Platform</span>
          </div>
          <p class="footer-description">Fil Rouge J3 - Base de donn√©es & CRUD complet.</p>
        </div>
        <div class="footer-section">
          <h3>Navigation</h3>
          <ul>
            <li><a href="../index.html#programme">Programme</a></li>
            <li><a href="../index.html#projet">Projet</a></li>
            <li><a href="day3FilRouge.html">Atelier J3</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Ressources</h3>
          <ul>
            <li>PostgreSQL</li>
            <li>Prisma</li>
            <li>JWT</li>
            <li>bcrypt</li>
            <li>Joi</li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Contact</h3>
          <div class="contact-info">
            <p><i class="fas fa-envelope"></i> contact@ynov.com</p>
            <p><i class="fas fa-map-marker-alt"></i> Campus Ynov</p>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 YNOV Campus. Tous droits r√©serv√©s.</p>
      </div>
    </div>
  </footer>

  <script src="../script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>
    // Auto-d√©tection et coloration de tous les blocs de code
    document.addEventListener('DOMContentLoaded', function() {
      hljs.highlightAll();
    });
  </script>
</body>
</html>
